{% extends 'layout.html.twig' %}

{% block title %}Hello CatalogoCursosController!{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/custom-frontpage.css') }}" />
{% endblock %}

{% block content %}

<h1>Catálogo de cursos</h1>
<div class="row m-5">
    <section id="filtros" class="col-3 border border-dark bg-ruby p-5">
        <p>Y aquí pondría varias cositas para filtrar y tal y pascual.</p>
    </section>
    <div class="col-1"></div>
    <section id="cursos" class="col-8 border border-dark p-5">
        {# Y aquí irían los cursos, que quizá lo suyo es pillarlos por AJAX. #}
        <div class="d-flex justify-content-evenly">
            {% for curso in cursos %}
            <div class="w-25 h-25 curso m-5 p-5 bg-ruby overflow-hidden"><a href="/cursos/{{ curso.id }}">
                <img src="">
                <h5>{{ curso.titulo }}</h5>
                <p>{{ curso.descripcion|raw }}</p> {# Recortar si se pudiera #}
                {% set plazas = 0 %}
                {% for grupo in curso.grupos %}
                {% set plazas = plazas+grupo.plazas %}
                {% endfor %}
                <div><strong>{{ curso.precio/100 }} € - {{ plazas }} plazas</strong></div>
            </a></div>
            {% endfor %}
        </div>
    </section>
</div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/carga_cursos.js') }}"></script>
{% endblock %}
